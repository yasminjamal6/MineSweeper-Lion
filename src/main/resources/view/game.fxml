<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>


<AnchorPane xmlns="http://javafx.com/javafx/23"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="main.controller.GameController"
            prefWidth="1200.0" prefHeight="800.0"
            stylesheets="@../css/game.css"
            styleClass="game-root">

    <children>
        <VBox spacing="12"
              AnchorPane.topAnchor="10.0"
              AnchorPane.bottomAnchor="10.0"
              AnchorPane.leftAnchor="10.0"
              AnchorPane.rightAnchor="10.0">

            <Label text="Avoid Scar! Right-click to place Simba's paw marks"
                   maxWidth="Infinity"
                   alignment="CENTER"
                   styleClass="hint-text"/>


            <!-- TOP BAR -->
            <HBox spacing="10" alignment="CENTER" styleClass="top-bar">

                <Label fx:id="scoreLabel"
                       text="Score: 0 ðŸ†"
                       styleClass="score-label"/>

                <Region HBox.hgrow="ALWAYS"/>

                <HBox fx:id="heartsBox"
                      alignment="CENTER"
                      spacing="3"
                      styleClass="hearts-row"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Label fx:id="livesLabel"
                       text="10 / 10"
                       styleClass="lives-counter"/>
            </HBox>

            <!-- ===== BOARDS ===== -->
            <HBox spacing="16" VBox.vgrow="ALWAYS">

                <VBox spacing="10" HBox.hgrow="ALWAYS">

                    <VBox alignment="CENTER" spacing="6">
                        <HBox alignment="CENTER" spacing="8"
                              styleClass="player-header player-header-a">
                            <Label text="ðŸ‘‘" styleClass="player-icon"/>
                            <Label fx:id="playerANameLabel"
                                   text="Player A"
                                   styleClass="player-name"/>
                        </HBox>

                        <HBox alignment="CENTER" spacing="6"
                              styleClass="mines-chip">
                            <ImageView fitWidth="20" fitHeight="20">
                                <image>
                                    <Image url="@../images/scar.png"/>
                                </image>
                            </ImageView>

                            <Label fx:id="playerAMinesLabel"
                                   text="10"
                                   styleClass="mines-count"/>
                            <Label text="MINES" styleClass="mines-text"/>
                        </HBox>
                    </VBox>

                    <Label text="Board A" styleClass="board-title"/>

                    <StackPane styleClass="board-container" VBox.vgrow="ALWAYS">
                        <GridPane fx:id="boardAGrid"
                                  hgap="2" vgap="2"
                                  alignment="CENTER"/>
                    </StackPane>

                </VBox>

                <VBox spacing="10" HBox.hgrow="ALWAYS">

                    <VBox alignment="CENTER" spacing="6">
                        <HBox alignment="CENTER" spacing="8"
                              styleClass="player-header player-header-b">
                            <Label text="ðŸ¦" styleClass="player-icon"/>
                            <Label fx:id="playerBNameLabel"
                                   text="Player B"
                                   styleClass="player-name"/>
                        </HBox>

                        <HBox alignment="CENTER" spacing="6"
                              styleClass="mines-chip">
                            <ImageView fitWidth="20" fitHeight="20">
                                <image>
                                    <Image url="@../images/scar.png"/>
                                </image>
                            </ImageView>

                            <Label fx:id="playerBMinesLabel"
                                   text="10"
                                   styleClass="mines-count"/>
                            <Label text="MINES" styleClass="mines-text"/>
                        </HBox>
                    </VBox>

                    <Label text="Board B" styleClass="board-title"/>

                    <StackPane styleClass="board-container" VBox.vgrow="ALWAYS">
                        <GridPane fx:id="boardBGrid"
                                  hgap="2" vgap="2"
                                  alignment="CENTER"/>
                    </StackPane>

                </VBox>

            </HBox>

            <HBox alignment="CENTER"
                  spacing="40"
                  styleClass="legend-row">

                <!-- Scar (Mine) -->
                <HBox alignment="CENTER" spacing="8">
                    <ImageView fitWidth="28" fitHeight="28">
                        <image>
                            <Image url="@../images/scar.png"/>
                        </image>
                    </ImageView>
                    <Label text="Scar (Mine)"
                           styleClass="legend-text"/>
                </HBox>

                <!-- Simba's Mark (Flag) -->
                <HBox alignment="CENTER" spacing="8">
                    <Label text="ðŸ¾"
                           styleClass="legend-flag-icon"/>
                    <Label text="Simba's Mark (Flag)"
                           styleClass="legend-text"/>
                </HBox>

            </HBox>

            <HBox alignment="CENTER">
                <Button fx:id="backHomeBtn"
                        text="Back to Home"
                        onAction="#onBackToHome"
                        styleClass="back-home-btn"/>
            </HBox>

        </VBox>
    </children>
</AnchorPane>
